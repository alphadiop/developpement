select distinct
       s.host_name,
       s.login_name ,
       --s.program_name,

       db_name(r.database_id) as database_name,
       st.text,
    
       r.status ,
       --r.command,
       r.session_id,
       --r.request_id ,
       r.start_time,
       r.total_elapsed_time as total_elapsed_time_ms,
       r.cpu_time as cpu_time_ms,

       r.wait_type as current_wait_type,
       r.wait_resource as current_wait_resource,
       r.wait_time as current_wait_time_ms,
       --wt.wait_type,
       --wt.wait_duration_ms,
       r.last_wait_type,
       r.blocking_session_id ,

       r.reads,
       r.writes,
       r.logical_reads 
 
from
    sys.dm_exec_requests r
    join sys.dm_os_tasks t on r.session_id = t.session_id
    join sys.dm_exec_sessions s on r.session_id = s.session_id
    CROSS APPLY sys.dm_exec_sql_text(r.sql_handle) st

  where 1=1    
    --WHERE login_name='LoginSasSocAcl'
   -- WHERE login_name = 'LoginProduction' 
    --where login_name = 'LoginAlimentation'
    --WHERE login_name ='LoginServiceEtude'
    --AND  r.status='running'
    --where host_name='NMAHJOUBI2'   


order by r.session_id  


--kill 76

